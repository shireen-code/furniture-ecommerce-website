// Script for sticky header OR add class on 1st scroll
$(window).scroll(function() {
    if ($(this).scrollTop() > 1){  
        $('#topBar').addClass("sticky");
    }
    else{
        $('#topBar').removeClass("sticky");
    }
});

// ScrolltoTop
$("#topbar").click(function() {
  $('html, body').animate({
      scrollTop: $("#myDiv").offset().top
  }, 2000);
});

$(document).ready(function(){


  $("h1").delay("1000").fadeIn();


  // hide #back-top first
  $("#back-top").hide();


  // fade in #back-top
  $(function () {
      $(window).scroll(function () {
          if ($(this).scrollTop() > 500) {
              $('#back-top').fadeIn();
          } else {
              $('#back-top').fadeOut();
    
          }
      });


      // scroll body to 0px on click
      $('a#back-top').click(function () {
          $('body,html').animate({
              scrollTop: 0
          }, 800);
          return false;
      });
  });


});

// Wow Animation
new WOW().init();


//Dummy Script for Slick
$('.review-slider').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  dots: true,
    arrows:false,
  autoplay: true,
  autoplaySpeed: 3000,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});

//Mission Slider for Slick
$('.shop-slider').slick({
  slidesToShow: 4,
  slidesToScroll: 1,
  dots: false,
    arrow:true,
    autoplay: true,
    autoplaySpeed: 3000,
    responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});
//Feedback Slider for Slick
$('.portfolio-slider').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  dots: true,
    arrow: false,
  autoplay: true,
  autoplaySpeed: 3000,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});
//Recent Slider for Slick
$('.recent-slider').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  dots: false,
    arrow:true,
  autoplay: true,
  autoplaySpeed: 3000,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow:1,
        slidesToScroll: 1,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});

// To show the PDF File
$('#GetFile').on('click', function () {
  $.ajax({
      url: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/172905/test.pdf',
      method: 'GET',
      xhrFields: {
          responseType: 'blob'
      },
      success: function (data) {
          var a = document.createElement('a');
          var url = window.URL.createObjectURL(data);
          a.href = url;
          a.download = 'myfile.pdf';
          document.body.append(a);
          a.click();
          a.remove();
          window.URL.revokeObjectURL(url);
      }
  });
});
// To Show the Iframe Onclick
$(function(){
    $('#button').click(function(){ 
        if(!$('#iframe').length) {
                $('#iframeHolder').html('<iframe id="iframe" src="//player.vimeo.com/video/90429499" width="700" height="450"></iframe>');
        }
    });   
});

//Dummy Script for Slick
$('.home-slider').slick({
  dots: true,
  infinite: true,
  arrows: true,
  speed: 300,
  slidesToShow: 1,
  slidesToScroll: 1,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});
$('.slider-release').slick({
  dots: false,
  infinite: true,
  arrows: true,
  speed: 300,
  slidesToShow: 4,
  slidesToScroll: 1,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});

$('.slider').slick({
  slidesToShow: 3,
  slidesToScroll: 1,
  arrows: true,
  dots: false,
  centerMode: true,
  variableWidth: true,
  infinite: true,
  focusOnSelect: true,
  cssEase: 'linear',
  touchMove: true,
  prevArrow:'<button class="slick-prev"> < </button>',
  nextArrow:'<button class="slick-next"> > </button>',
  
  //         responsive: [                        
  //             {
  //               breakpoint: 576,
  //               settings: {
  //                 centerMode: false,
  //                 variableWidth: false,
  //               }
  //             },
  //         ]
});


var imgs = $('.slider img');
imgs.each(function(){
  var item = $(this).closest('.item');
  item.css({
    'background-image': 'url(' + $(this).attr('src') + ')', 
    'background-repeat': 'no-repeat',
    'width': '400px'
  });
  $(this).hide();
});
$('.collapse').collapse({ toggle: false });
function myfunction(){
   $('.collapse').collapse('show');
}
function myfunction2(){
  $('.collapse').collapse('hide');
}

$('.slider-single').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  arrows: false,
  fade: true,
  asNavFor: '.slider-nav'
});
$('.slider-nav').slick({
  slidesToShow: 3,
  slidesToScroll: 1,
  asNavFor: '.slider-for',
  dots: false,
  arrows: false,
  centerMode: true,
  focusOnSelect: true
});
jQuery(function($){
  var active;
  var boxes = $('.accordion-slider .box').length;
  var singleBoxWidth = (100 / boxes);
  var collapsedWidth = singleBoxWidth - ( singleBoxWidth / ( boxes - 1 ) );
  var openWidth = 100 - (collapsedWidth * ( boxes - 1 ) );

  function accordionSlider() {
      $('.accordion-slider .box').css('width', 100/boxes + '%' )
      $('.accordion-slider .box').on('mouseenter', function(){
          if ( !$(this).hasClass('active') && $(window).width() >= 550 ){
              //hide active elements
              if( active ){ 
                  TweenLite.to(active.find('.accordion-slider-title'), 0.3, {opacity:0, x:0, overwrite:'all'});
                  TweenLite.to(active.find('.accordion-slider-content'), 0.3, {opacity:0, x:0, overwrite:'all'});
              }
                  
              //introduce new active elements
              var others = $('.accordion-slider .box').not(this);
              active = $(this);
              $(this).addClass('active');
              others.removeClass('active');
              var tl = new TimelineLite();
              tl.to(others, 0.8, {ease: Back.easeOut.config(1.1),width:collapsedWidth + '%'}, 0)
              .to(active, 0.8, {ease: Back.easeOut.config(1.1),width:openWidth + '%'}, 0)
              .to(active.find('.accordion-slider-title'), 0.6, {ease: Back.easeOut.config(1.2),opacity:1, x:100}, 0.3)
              .to(active.find('.accordion-slider-content'), 0.6, {ease: Back.easeOut.config(1.2),x:100, opacity:1}, 0.4);
          }

      });
      $('.accordion-slider .box').on('mouseleave', function(){
          if ( $(window).width() >= 550 ){
              var all = $('.accordion-slider .box');
              var tl = new TimelineLite();
              tl.to(all, 0.8, {ease: Back.easeOut.config(1.1),width: 100/boxes + '%'}, 0)
              .to(active.find('.accordion-slider-title'), 0.3, {opacity:0, x:0, overwrite:'all'}, 0)
              .to(active.find('.accordion-slider-content'), 0.3, {opacity:0, x:0, overwrite:'all'}, 0)
              $(this).removeClass('active');
          }
      });
      if( $(window).width() < 550 ) {
          $('.accordion-slider-title, .accordion-slider-content').removeAttr('style');
          $('.accordion-slider .box').removeClass('active').css('width', '100%');
      }
          
  }

accordionSlider()

$(window).resize(function(){accordionSlider()});


});
